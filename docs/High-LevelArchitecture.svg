<svg viewBox="0 0 800 950" xmlns="http://www.w3.org/2000/svg">
  <style>
    .box { fill: #f8f9fa; stroke: #333; stroke-width: 1.5; }
    .layer-box { fill: none; stroke: #666; stroke-width: 2; stroke-dasharray: 5,5; }
    .service-box { fill: #ffffff; stroke: #444; stroke-width: 1; }
    .kafka-box { fill: #e9ecef; stroke: #000; stroke-width: 2; }
    .storage-box { fill: #ffffff; stroke: #2c3e50; stroke-width: 1.5; }
    .text-header { font-family: sans-serif; font-weight: bold; font-size: 16px; fill: #333; }
    .text-body { font-family: monospace; font-size: 12px; fill: #444; }
    .arrow { fill: none; stroke: #333; stroke-width: 2; marker-end: url(#arrowhead); }
  </style>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <rect x="20" y="20" width="760" height="200" rx="10" class="layer-box" />
  <text x="320" y="45" class="text-header">Microservices Layer</text>
  
  <rect x="50" y="65" width="160" height="120" class="service-box" />
  <text x="60" y="85" class="text-body" font-weight="bold">Integration Service</text>
  <text x="60" y="110" class="text-body">• Zap Logger</text>
  <text x="60" y="130" class="text-body">• Prometheus</text>
  <text x="60" y="150" class="text-body">• OTel SDK</text>

  <rect x="320" y="65" width="160" height="120" class="service-box" />
  <text x="330" y="85" class="text-body" font-weight="bold">Trading Service</text>
  <text x="330" y="110" class="text-body">• Zap Logger</text>
  <text x="330" y="130" class="text-body">• Prometheus</text>
  <text x="330" y="150" class="text-body">• OTel SDK</text>

  <rect x="590" y="65" width="160" height="120" class="service-box" />
  <text x="600" y="85" class="text-body" font-weight="bold">User Service</text>
  <text x="600" y="110" class="text-body">• Zap Logger</text>
  <text x="600" y="130" class="text-body">• Prometheus</text>
  <text x="600" y="150" class="text-body">• OTel SDK</text>

  <path d="M 130 185 V 210 H 670 V 185" fill="none" stroke="#333" stroke-width="1.5" />
  <line x1="400" y1="185" x2="400" y2="210" stroke="#333" stroke-width="1.5" />
  <line x1="400" y1="210" x2="400" y2="260" class="arrow" />
  <text x="410" y="245" class="text-body">Built-in Kafka Exporters</text>

  <rect x="60" y="280" width="180" height="80" class="kafka-box" />
  <text x="70" y="305" class="text-header" font-size="14">Kafka Topic</text>
  <text x="70" y="330" class="text-body">logs.*</text>

  <rect x="310" y="280" width="180" height="80" class="kafka-box" />
  <text x="320" y="305" class="text-header" font-size="14">Kafka Topic</text>
  <text x="320" y="330" class="text-body">metrics.*</text>

  <rect x="560" y="280" width="180" height="80" class="kafka-box" />
  <text x="570" y="305" class="text-header" font-size="14">Kafka Topic</text>
  <text x="570" y="330" class="text-body">traces.*</text>

  <line x1="150" y1="360" x2="150" y2="440" class="arrow" />
  <text x="160" y="410" class="text-body">7 days retention</text>
  
  <line x1="400" y1="360" x2="400" y2="440" class="arrow" />
  <text x="410" y="410" class="text-body">7 days retention</text>
  
  <line x1="650" y1="360" x2="650" y2="440" class="arrow" />
  <text x="660" y="410" class="text-body">7 days retention</text>

  <rect x="20" y="460" width="760" height="180" rx="10" class="layer-box" />
  <text x="280" y="485" class="text-header">Telemetry Processing Layer</text>

  <rect x="70" y="500" width="220" height="120" class="service-box" />
  <text x="80" y="520" class="text-body" font-weight="bold">Vector Aggregator</text>
  <text x="80" y="540" class="text-body">• Log parsing | PII masking</text>
  <text x="80" y="560" class="text-body">• Enrichment | Multi-sink</text>

  <rect x="510" y="500" width="220" height="120" class="service-box" />
  <text x="520" y="520" class="text-body" font-weight="bold">OTel Gateway</text>
  <text x="520" y="540" class="text-body">• Metrics agg | Trace sampling</text>
  <text x="520" y="560" class="text-body">• Protocol trans | Batching</text>

  <line x1="180" y1="620" x2="180" y2="680" stroke="#333" stroke-width="1.5" />
  <line x1="620" y1="620" x2="620" y2="680" stroke="#333" stroke-width="1.5" />
  <line x1="180" y1="680" x2="620" y2="680" stroke="#333" stroke-width="1.5" />
  
  <line x1="100" y1="680" x2="100" y2="720" class="arrow" />
  <line x1="300" y1="680" x2="300" y2="720" class="arrow" />
  <line x1="500" y1="680" x2="500" y2="720" class="arrow" />
  <line x1="700" y1="680" x2="700" y2="720" class="arrow" />

  <rect x="30" y="730" width="140" height="60" class="storage-box" />
  <text x="40" y="755" class="text-body" font-weight="bold">Elasticsearch</text>
  <text x="40" y="775" class="text-body">(Logs)</text>

  <rect x="230" y="730" width="140" height="60" class="storage-box" />
  <text x="240" y="755" class="text-body" font-weight="bold">Prometheus</text>
  <text x="240" y="775" class="text-body">(Metrics)</text>

  <rect x="430" y="730" width="140" height="60" class="storage-box" />
  <text x="440" y="755" class="text-body" font-weight="bold">Tempo</text>
  <text x="440" y="775" class="text-body">(Traces)</text>

  <rect x="630" y="730" width="140" height="60" class="storage-box" />
  <text x="640" y="755" class="text-body" font-weight="bold">AWS S3</text>
  <text x="640" y="775" class="text-body">(Archive)</text>

  <path d="M 100 790 V 830 H 700 V 790" fill="none" stroke="#333" stroke-width="1.5" />
  <line x1="400" y1="830" x2="400" y2="860" class="arrow" />
  
  <rect x="300" y="870" width="200" height="50" rx="5" fill="#f39c12" stroke="#d35400" />
  <text x="400" y="900" text-anchor="middle" font-family="sans-serif" font-weight="bold" fill="white">Grafana (Dashboards)</text>
</svg>